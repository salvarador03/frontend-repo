import{a1 as m,r,m as d,j as e,b as x,X as h,B as u,L as i}from"./index-pt3s4JTT.js";const f="https://tfgpsiforges-backend-16c2ef123f86.herokuapp.com/api",g=async()=>{const s=localStorage.getItem("authToken");try{return(await m.get(`${f}/contratos`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data}catch(l){throw console.error("Error fetching contracts:",l),l}},p=({noServicesMessage:s})=>{const[l,n]=r.useState([]),{user:t}=d();return r.useEffect(()=>{t&&(async()=>{try{const c=await g();n(c)}catch(c){console.error("Error loading contracts:",c)}})()},[t]),l.length===0?e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-bold",children:s.title}),e.jsx("div",{className:"text-zinc-600",children:s.message})]}):e.jsx("div",{className:"flex flex-wrap justify-center",children:l.map(a=>e.jsx("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 p-2",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex",children:[e.jsx("img",{src:`/src/assets/img/${a.servicio.id}.png`,alt:a.servicio.nombre,className:"w-16 h-16 rounded-full mr-4"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:a.servicio.nombre}),e.jsx("p",{className:`text-sm font-semibold ${j(a.estado)}`,children:a.estado})]})]})},a.id))})},j=s=>{switch(s){case"PENDIENTE":return"text-yellow-500";case"ACTIVO":return"text-green-500";case"COMPLETADO":return"text-blue-500";case"CANCELADO":return"text-red-500";default:return"text-gray-500"}},N=()=>{const[s,l]=r.useState({}),{language:n}=x(),{user:t,logout:a}=d();r.useEffect(()=>{h(n).then(o=>l(o)).catch(o=>console.error("Failed to load i18n messages:",o))},[n]);const c={title:s["text.micuenta.historial.servicios"],message:s["text.micuenta.noservicios"]};return e.jsx("div",{className:"flex flex-col items-center min-h-screen bg-zinc-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto w-full mt-40",children:[e.jsx(u,{}),e.jsxs("div",{className:"flex flex-col items-center mb-10",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:s["text.micuenta.titulo"]}),e.jsx(i,{to:"/frontend-repo/logout",children:e.jsx("button",{className:"text-gray-700 hover:text-gray-900",onClick:a,children:s["text.micuenta.logout"]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between w-full",children:[e.jsx("div",{className:"w-full md:w-2/3",children:e.jsx(p,{noServicesMessage:c})}),e.jsxs("div",{className:"w-full md:w-1/3 mt-8 md:mt-0 md:ml-10",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:s["text.micuenta.detalles.cuenta"]}),e.jsx("p",{className:"mb-4",children:(t==null?void 0:t.name)+" "+(t==null?void 0:t.lastName)}),e.jsx("p",{className:"mb-4",children:t==null?void 0:t.city}),e.jsx("p",{className:"mb-4",children:t==null?void 0:t.country}),e.jsx("p",{className:"mb-4",children:t==null?void 0:t.phone}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:e.jsx(i,{to:"/frontend-repo/account-management/information",children:s["text.micuenta.informacion.personal"]})})]})]})]})})};export{N as default};
