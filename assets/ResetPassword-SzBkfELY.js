import{j as e,l as y,L as c,u as w,r as o,c as b,a as j,d as v,e as N,h as k,N as P,v as S,k as E}from"./index-pt3s4JTT.js";const T=()=>e.jsx("main",{children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-4 flex items-center justify-start h-screen md:px-8",children:e.jsxs("div",{className:"max-w-lg mx-auto space-y-3 text-center",children:[e.jsx("img",{src:y,alt:"Logo",className:"mx-auto h-72 w-72 mb-4"}),e.jsx("h3",{className:"text-indigo-600 font-semibold",children:"Error 400"}),e.jsx("p",{className:"text-gray-800 text-4xl font-semibold sm:text-5xl",children:"Token Inválido"}),e.jsx("p",{className:"text-gray-600",children:"El enlace de restablecimiento de contraseña es inválido o ha expirado."}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[e.jsx(c,{to:"/frontend-repo/",className:"block py-2 px-4 text-white font-medium bg-indigo-600 duration-150 hover:bg-indigo-500 active:bg-indigo-700 rounded-lg",children:"Regresar"}),e.jsx(c,{to:"/frontend-repo/contacto",className:"block py-2 px-4 text-gray-700 hover:bg-gray-50 font-medium duration-150 active:bg-gray-100 border rounded-lg",children:"Contactar soporte"})]})]})})}),z=()=>{const{register:d,handleSubmit:m,formState:{errors:x}}=w(),[t,n]=o.useState({isOpen:!1,message:"",type:""}),[u]=b(),[l,p]=o.useState(!1),[f,i]=o.useState(!0),r=u.get("token");j(),o.useEffect(()=>{(async()=>{if(!r){i(!1);return}try{const s=await S(r);i(s)}catch(s){console.error("Error verifying token:",s),i(!1)}})()},[r]);const g=()=>{p(a=>!a)},h=async a=>{try{const s=await E(r,a.newPassword);n({isOpen:!0,message:s.message,type:"success"})}catch(s){n({isOpen:!0,message:s.message,type:"error"})}};return f?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-6 p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-center text-3xl font-extrabold text-zinc-900",children:"Reset Password"}),e.jsxs("form",{className:"space-y-4",onSubmit:m(h),children:[e.jsx("div",{className:"rounded-md shadow-sm space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-zinc-700 flex items-center",children:[e.jsx(v,{className:"mr-2"}),"New Password"]}),e.jsx("input",{id:"newPassword",name:"newPassword",type:l?"text":"password",required:!0,className:"appearance-none block w-full px-3 py-2 pr-10 border border-yellow-400 placeholder-zinc-500 text-gray-900 focus:outline-none focus:ring-yellow-600 focus:border-yellow-600 sm:text-sm hover:border-yellow-600 transition rounded-md",...d("newPassword",{required:!0})}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 top-5 flex items-center px-3 text-zinc-700 hover:text-zinc-900",onClick:g,children:l?e.jsx(N,{}):e.jsx(k,{})}),x.newPassword&&e.jsx("span",{className:"text-red-500",children:"This field is required"})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-gray-800 bg-yellow-400 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black transition",children:"Reset Password"})})]}),t.isOpen&&e.jsx(P,{type:t.type,message:t.message,isOpen:t.isOpen,onClose:()=>n({isOpen:!1})})]})}):e.jsx(T,{})};export{z as default};
